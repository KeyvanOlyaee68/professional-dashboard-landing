import{b as B}from"./chunk-RDMH4AFB.js";import{b as O}from"./chunk-5CJJ66H4.js";import{a as I,b as L}from"./chunk-LAPY2J4J.js";import{a as x}from"./chunk-WJKOOGBR.js";import{G as N,I as A,b,d as m,f as v,g as S,l as y,n as F,q as k,u as w,w as E}from"./chunk-D2IK4X32.js";import"./chunk-IX3OVSZL.js";import{R as h}from"./chunk-QE25HQRA.js";import"./chunk-DDHFN6XV.js";import{$b as C,Hb as t,Ib as o,Jb as c,Mc as M,Nc as _,Pb as d,Qb as f,Rc as P,_b as u,ab as g,fb as a,mb as p,rb as s,yb as l}from"./chunk-INXQJWH5.js";function D(e,i){if(e&1&&(t(0,"div",11),u(1),o()),e&2){let n=f();l("ngStyle",n.getLoginErrorStyle()),g(),C(n.loginError)}}var j=class e{constructor(i,n,r,z){this.fb=i;this.router=n;this.authServiceService=r;this.snackBar=z;this.loginForm=this.fb.group({username:["",[m.required]],password:["",[m.required]]})}loginForm;loginError=null;onLoginFail(){this.snackBar.open("\u0645\u062A\u0623\u0633\u0641\u06CC\u0645\u060C \u0648\u0631\u0648\u062F \u0634\u0645\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A\u200C\u0622\u0645\u06CC\u0632 \u0646\u0628\u0648\u062F. \u0644\u0637\u0641\u0627\u064B \u0646\u0627\u0645 \u06A9\u0627\u0631\u0628\u0631\u06CC \u0648 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062E\u0648\u062F \u0631\u0627 \u062F\u0648\u0628\u0627\u0631\u0647 \u0628\u0631\u0631\u0633\u06CC \u06A9\u0646\u06CC\u062F.","\u0628\u0633\u062A\u0646",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["custom-snackbar"],direction:"rtl"})}onSubmit(){if(this.loginForm.valid){let i=this.loginForm.value;this.authServiceService.login(i).subscribe({next:n=>{this.authServiceService.saveToken(n.token,n.role,n.customerName),this.router.navigate(["/dashboard"]),localStorage.setItem("token",n.token),localStorage.setItem("role",n.role),localStorage.setItem("customerName",n.customerName),console.log("Login successful!")},error:n=>{this.onLoginFail(),this.loginError="\u0646\u0627\u0645 \u06A9\u0627\u0631\u0628\u0631\u06CC \u06CC\u0627 \u06A9\u0644\u0645\u0647 \u0639\u0628\u0648\u0631 \u0627\u0634\u062A\u0628\u0627\u0647 \u0627\u0633\u062A.",console.error(n)}})}}getLoginErrorStyle(){return{color:"red",direction:"rtl",textAlign:"right",marginTop:"20px"}}static \u0275fac=function(n){return new(n||e)(a(w),a(O),a(x),a(I))};static \u0275cmp=p({type:e,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-page"],[1,"illustration"],["src","DALL.png","alt","StudentManagementPic"],[1,"login-form"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","username","placeholder","\u0646\u0627\u0645 \u06A9\u0627\u0631\u0628\u0631\u06CC"],["type","password","formControlName","password","placeholder","\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"],["type","submit",1,"btn-primary",3,"disabled"],["class","error",3,"ngStyle",4,"ngIf"],[1,"footer",2,"text-align","center","margin-top","32px","color","#888","font-size","14px"],[1,"error",3,"ngStyle"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"div",1),c(2,"img",2),o(),t(3,"div",3)(4,"h2"),u(5,"\u0633\u0627\u0645\u0627\u0646\u0647 \u062C\u0627\u0645\u0639 \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062F\u0627\u0646\u0634 \u0622\u0645\u0648\u0632\u0627\u0646"),o(),t(6,"form",4),d("ngSubmit",function(){return r.onSubmit()}),t(7,"div",5),c(8,"input",6),o(),t(9,"div",5),c(10,"input",7),o(),t(11,"button",8),u(12,"\u0648\u0631\u0648\u062F"),o(),s(13,D,2,2,"div",9),o(),t(14,"div",10),u(15," \u06A9\u0644\u06CC\u0647 \u062D\u0642\u0648\u0642 \u0645\u0627\u062F\u06CC \u0648 \u0645\u0639\u0646\u0648\u06CC \u0627\u06CC\u0646 \u0633\u0627\u06CC\u062A \u0645\u062A\u0639\u0644\u0642 \u0628\u0647 \u0634\u0631\u06A9\u062A \u0645\u0647\u0646\u062F\u0633\u06CC \u062F\u0631\u0633\u06CC\u0646\u0648 \u0645\u06CC\u200C\u0628\u0627\u0634\u062F - 1404 "),o()()()),n&2&&(g(6),l("formGroup",r.loginForm),g(5),l("disabled",r.loginForm.invalid),g(2),l("ngIf",r.loginError))},dependencies:[E,y,b,v,S,F,k,L,P,M,_,B,N,A,h],styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;overflow:hidden}.login-page[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh;overflow:hidden;box-sizing:border-box;background:#f9f9f9;padding:20px;direction:ltr}.login-page[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center}.login-page[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:110%}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{flex:1;max-width:450px;width:100%;height:80%;padding:40px;background:#fff;border-radius:12px;box-shadow:0 10px 20px #00000026;display:flex;flex-direction:column;justify-content:center;text-align:right}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;font-size:28px}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#777}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:6px;font-size:16px;text-align:right}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%;padding:15px;background:#5a67d8;color:#fff;border:none;border-radius:6px;font-size:18px;cursor:pointer;transition:background .3s}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#434190}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#777}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;border:1px solid #ddd;border-radius:50%;color:#555;font-size:20px;text-decoration:none;transition:background .3s}.login-page[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f0f0f0}.custom-snackbar[_ngcontent-%COMP%]{font-family:B Yekan;font-size:18px;direction:rtl;text-align:center;color:red}']})};export{j as LoginComponent};
